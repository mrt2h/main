---

### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

---

**Выполнение задания 1.**

**Задача 1.1**    
Для данного типа задач можно рассмотреть использование реляционных СУБД, потому что они поддерживают SQL-запросы, что позволяет удобно анализировать и формировать отчеты. 
Из основных популярных реляционных СУБД можно предложить следующие: PostgeSQL, MySQL, Microsoft SQL Server.
 
**Задача 1.1***
Для ускорения хеширования можно использовать специализированные алгоритмы и библиотеки, такие как:
1. OpenSSL: Оно предоставляет широкий набор криптографических алгоритмов, включая хеширование. Оптимизированное для процессорной архитектуры OpenSSL может обеспечить высокую производительность.  
2. Intel Integrated Performance Primitives (IPP): Производительные библиотеки, разработанные Intel, включают оптимизированные алгоритмы хеширования и другие криптографические функции, специально адаптированные для аппаратных возможностей Intel.  
3. Intel Advanced Encryption Standard New Instructions (AES-NI): Если хеширование выполняется с использованием алгоритма AES, то можно воспользоваться аппаратной акселерацией AES-NI на поддерживаемых процессорах Intel.  
4. Графический процессор (GPU): Для некоторых алгоритмов хеширования можно использовать вычислительные возможности современных графических процессоров (например, CUDA или OpenCL), которые позволяют выполнить параллельные вычисления и ускорить процесс хеширования.    
Стоит учитывать, что выбор оптимального API зависит от используемого алгоритма хеширования, целевой платформы и других требований приложения.  
Помимо выбора алгоритма, убедитесь, что вы используете наиболее оптимизированную библиотеку для вашего языка программирования. Для Python, например, вы можете использовать библиотеку hashlib или cryptography.  
 
**Задача 1.2**   
Для лендингов и CRM лучше всего использовать реляционные СУБД, такие как MySQL или PostgreSQL. Они обеспечивают гибкость и скорость работы с данными, а также имеют широкий спектр функций для управления и анализа информации.

**Задача 1.2***   
Да, можно использовать одну СУБД для лендингов и CRM. Например, MySQL или PostgreSQL будут достаточно гибкими и быстрыми для этих задач. Однако, если есть другие системы, которые требуют использования другой СУБД, то может потребоваться использовать несколько СУБД.

**Задача 1.3**  
Для создания базы данных, которая будет соответствовать всем предъявленным выше требованиям, можно выбрать реляционные системы управления базами данных, такие как MySQL или PostgreSQL. Оба эти решения имеют простой и понятный интерфейс, позволяющий легко создавать базы данных с нужной структурой. Кроме того, они обладают высокой производительностью и надежностью, что важно для хранения корпоративных данных. Также можно реализовать на NoSQL СУБД, если хранить данные не ввиде таблиц, а в виде документов либо коллекций.

**Задача 1.3***   
Можно использовать уже существующую СУБД такую как MySQL и PostgreSQL, которые подходят для реализации такой задачи. 
Обе СУБД обладают простой и понятной структурой и могут быть использованы для создания базы данных, которая будет содержать информацию о корпоративных нормах и правилах, обучающем материале и т. д.
Чтобы реализовать это, можно создать таблицы, которые соответствуют различным аспектам компании. Например, можно создать таблицу "Norms" для хранения информации о нормах и правилах, таблицу "TrainingMaterials" для хранения обучающих материалов и т. д. 
Каждая таблица должна иметь уникальный идентификатор для каждой записи, а также столбцы, соответствующие различным атрибутам каждой записи. Например, таблица "Norms" может иметь столбцы "ID", "Title", "Description" и т. д.
Также можно создать связи между таблицами, если данные требуют такого отношения. Например, если есть таблица "Employees", которая содержит информацию о сотрудниках, и таблица "Norms", которая содержит ссылку на конкретные нормы, связанные с каждым сотрудником.
При создании базы данных потребуется использовать SQL, чтобы создать таблицы, определить связи и выполнить другие операции по настройке базы данных. В обоих MySQL и PostgreSQL есть средства создания таблиц и внесения данных.
В итоге, выбор между MySQL и PostgreSQL зависит от предпочтений и требований. Они подходят для создания простой и понятной структуры базы данных.

**Задача 1.4**   
Для решения этих задач можно использовать СУБД, такую как PostgreSQL или Oracle. Эти СУБД позволяют быстро работать со сложными связями между объектами и эффективно распределять ресурсы. Можно подключить отдел закупок к СУБД PostgreSQL или Oracle. Обе эти СУБД предоставляют широкие возможности для создания и управления базами данных, которые могут быть использованы в разных отделах компании, включая отдел закупок. 


**Задача 1.4***   
Для отдела закупок можно создать отдельную базу данных, связанную с базой данных отдела логистики. Это позволит избежать дублирования данных и упростить процесс обмена информацией между отделами. Однако решение о том, нужно ли формировать отдельную СУБД для отдела закупок или использовать СУБД логистов, зависит от множества факторов, включая объем данных, специфические требования и процессы работы отделов, а также потребности в интеграции данных между отделами. Важно учитывать, что в случае разделения СУБД между отделами, возникает необходимость взаимодействия и интеграции данных между ними. Это может потребовать дополнительных усилий для синхронизации, обмена или экспорта-импорта данных между СУБД.


**Задача 1.5***   
Да, все перечисленные задачи можно решить, используя одну СУБД. Одной из самых популярных и подходящих для данных задач является СУБД PostgreSQL. PostgreSQL обладает мощными возможностями работы со связанными данными, включая поддержку графовых баз данных с помощью расширения Graph. Это позволяет эффективно моделировать связи между объектами, что полезно при формировании маршрутов доставки и распределении курьеров.

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.  
2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

---

**Решение 2.1**
1) Пользователь вводит номер своего телефона и сумму пополнения на сайте оператора или в мобильном приложении.  
2) Данные отправляются на сервер оператора, где происходит проверка доступности суммы для пополнения на счете пользователя.  
3) Если сумма доступна, оператор отправляет запрос на подтверждение транзакции на телефон пользователя.  
4) Пользователь подтверждает транзакцию, введя специальный код, отправленный оператором.  
5) Оператор списывает сумму пополнения со счета пользователя и добавляет ее на баланс телефона.  
6) Баланс телефона обновляется, и пользователь может начать пользоваться услугами связи.  

**Решение 2.1***

Если пополнение происходит через автоплатеж, алгоритм может быть немного другим:
1) Пользователь настраивает автоплатеж в личном кабинете своего банка или через мобильное приложение.  
2) Указывает сумму и периодичность списания средств.  
3) Банк обрабатывает запрос на автоплатеж и создает подписку на автоматическое списание средств.  
4) При достижении указанной суммы на счете, банк автоматически списывает средства и зачисляет их на баланс мобильного телефона пользователя.  

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.   
3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

---

**Ответ 3.1**
1) Поддержка ACID: SQL системы обычно поддерживают ACID (атомарность, согласованность, изоляция, долговечность), что гарантирует сохранность и целостность данных. В то время как NoSQL системы могут не обеспечивать полную поддержку ACID.
2) Строгая типизация: SQL системы имеют строгую типизацию данных, что помогает предотвратить ошибки и улучшает производительность. В отличие от этого, NoSQL системы могут иметь более слабую типизацию или не иметь ее вообще.
3) Более широкий выбор инструментов и библиотек: Существует огромное количество инструментов и библиотек для работы с SQL системами, что упрощает разработку и поддержку приложений. NoSQL системы, хотя и набирают популярность, пока еще не имеют такого широкого выбора инструментов.
4) Лучшее соответствие для классических реляционных данных: SQL системы изначально были разработаны для работы с классическими реляционными данными, такими как таблицы. Некоторые NoSQL системы лучше подходят для работы с “неклассическими” данными, но SQL системы все еще остаются наиболее подходящим выбором для большинства случаев.
5) Более высокий уровень безопасности: SQL системы, как правило, имеют более высокий уровень безопасности, поскольку они были разработаны с учетом требований безопасности.

**Ответ 3.2**   

NewSQL системы предлагают ряд преимуществ по сравнению с традиционными SQL и NoSQL системами. Вот некоторые из них:  

– Поддержка ACID - NewSQL системы обычно обеспечивают полную поддержку ACID, что гарантирует сохранность и целостность данных.  
– Производительность - NewSQL системы часто оптимизированы для обеспечения высокой производительности, особенно при работе с большими объемами данных.  
– Масштабируемость - NewSQL системы хорошо подходят для масштабирования, что позволяет им обрабатывать большие объемы данных и увеличивать производительность по мере роста нагрузки.  
– Совместимость - NewSQL системы совместимы с традиционными SQL базами данных, что делает их более легкими в использовании и интеграции с существующими системами.  
– Поддержка стандартов - многие NewSQL системы основаны на открытых стандартах, что обеспечивает гибкость и возможность выбора наиболее подходящей системы для конкретного проекта.  

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.   
На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* здесь справится лучше всего и почему?  

---

**Ответ 4**  

При выборе типа СУБД для обработки большого количества данных и производства большого количества вычислений, основными критериями могут быть следующие:

1. Производительность: СУБД должна обеспечивать высокую производительность обработки запросов и операций с данными.
2. Масштабируемость: СУБД должна позволять масштабировать вычислительные ресурсы в горизонтальном (добавление новых серверов) и вертикальном (увеличение мощности существующих серверов) направлении.
3. Отказоустойчивость: СУБД должна иметь механизмы обеспечения безопасности данных и восстановления после сбоев.
4. Распределенность: СУБД должна позволять распределять данные и запросы на выполнение между несколькими серверами для увеличения пропускной способности и ускорения обработки.

При выборе модели распределенных вычислений для работы с огромным количеством данных можно рассмотреть два варианта:

1. Модель "массовой обработки данных" (MapReduce): данная модель подходит для обработки больших объемов данных, разбивая их на части и распределяя для параллельной обработки на несколько серверов. Она эффективна в случаях, когда требуется обработать данные в пакетном режиме, без требования по мгновенному ответу. Примерами распределенных СУБД, основанных на модели MapReduce, являются **Apache Hadoop** (свободно распространяемый набор утилит, библиотек и фреймворк для разработки и выполнения распределённых программ, работающих на кластерах более сотен узлов) и **Apache Spark**.

2. Модель "управляемых транзакций" (ACID): данная модель подходит для обработки данных, где требуется ACID-консистентность (атомарность, согласованность, изолированность, долговечность) транзакций. Она обеспечивает возможность выполнения сложных операций с данными и соблюдение целостности данных при распределении на несколько серверов. Примеры распределенных СУБД, основанных на модели управляемых транзакций, включают MySQL Cluster, Oracle RAC и PostgreSQL.
